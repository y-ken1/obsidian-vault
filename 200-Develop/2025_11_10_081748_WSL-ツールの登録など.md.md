---
aliases:
  - WSL
tags:
  - 
created:
  - 2025-11-10 08:17:48
---

# WSL-ツールの登録など

WSLでツールを作ったら（.sh）

### 簡単に言うと

1. スクリプト作成＆実行権限付与
2. `~/.tools_list` にフルパス追記
3. `source ~/.bashrc` で反映
4. 必要なら `tool-ls` で確認 → ファイル名で実行

### 詳細

実行権限をつける

```bash
chmod +x XXXX.sh
```

一覧登録

```bash
vi ~/.tools_list

(ファイル末尾にフルパスを追記)
```

bashrcの再読み込み（エイリアス化のため）

```bash
source ~/.bashrc
```


確認（一覧表示される）

```bash
tool-ls
```

ファイル名だけで実行してみる（エイリアスされていることの確認）


### おまけ

#### エイリアス化の仕組み


.bashrcに以下を記載してある
これで、WSL起動時にエイリアス化される
（.tool_listの更新直後はsource ~/.bashrcが必要）

``` bash
# ~/.tools_list に書かれた全ツールを自動でエイリアス化
if [ -f "$HOME/.tools_list" ]; then
  while IFS= read -r toolpath; do
    [[ -z "$toolpath" ]] && continue
    [[ "$toolpath" =~ ^# ]] && continue
    if [ -f "$toolpath" ]; then
      name=$(basename "$toolpath")
      alias "$name"="bash '$toolpath'"
    fi
  done < "$HOME/.tools_list"
fi
```


#### tool-list （一覧表示用）

どんなツール登録されてるか忘れそうなので、一覧表示できるようにしてある

```bash
#!/usr/bin/env bash
# ~/bin/tool-ls

# ~/tools-listに記載されているパスのファイル名部分を一覧表示する。
# なお、tools-listは便利ツールのパス一覧です
#

LIST_FILE="$HOME/.tools_list"

if [ ! -f "$LIST_FILE" ]; then
  echo "❌ ツール一覧ファイルがありません: $LIST_FILE"
  exit 1
fi

echo "🔧 登録ツール一覧:"

# コメント行（#で始まる行）はスキップ
while IFS= read -r tool; do
  [[ "$tool" =~ ^# ]] && continue    # #で始まる行は読み飛ばす
  [[ -z "$tool" ]] && continue      # 空行も読み飛ばす
  echo "- $(basename "$tool")"
done < "$LIST_FILE"
```